"use strict";(self["webpackChunkAheadShop"]=self["webpackChunkAheadShop"]||[]).push([[168],{168:function(s,a,e){e.r(a),e.d(a,{default:function(){return xs}});var t=e(6252),l=e(3577);const r=s=>((0,t.dD)("data-v-0289639a"),s=s(),(0,t.Cn)(),s),d=(0,t.uE)('<div data-v-0289639a><div class="d-flex justify-content-around w-50 mx-auto my-5 position-relative" data-v-0289639a><div data-v-0289639a><div class="rounded-pill text-center order-shape mx-auto mb-1" data-v-0289639a><p class="pt-2" data-v-0289639a>1</p></div><p class="text-center fs-7" data-v-0289639a>填寫資料</p></div><div data-v-0289639a><div class="rounded-pill text-center order-shape mx-auto mb-1" data-v-0289639a><p class="pt-2" data-v-0289639a>2</p></div><p class="text-center fs-7" data-v-0289639a>確認訂單</p></div><div data-v-0289639a><div class="rounded-pill text-center order-shape-light mx-auto mb-1" data-v-0289639a><p class="pt-2" data-v-0289639a>3</p></div><p class="text-center fs-7" data-v-0289639a>購買完成</p></div></div></div>',1),i={class:"container"},c={class:"row g-md-5 g-0 justify-content-around"},o={class:"col-12 col-lg-6"},n={class:"table-cus mb-5"},p=r((()=>(0,t._)("h5",{class:"h5 bg-danger bg-gradient rounded-top p-3 text-white",style:{"--bs-bg-opacity":"0.5"}}," 確認購物車內容 ",-1))),u={class:"px-4"},m={class:"w-100 mt-4"},h=r((()=>(0,t._)("thead",{class:"thead"},[(0,t._)("tr",{class:"text-center"},[(0,t._)("th",{scope:"col",class:"py-3"},"商品資訊"),(0,t._)("th",{scope:"col"},"小計")])],-1))),_={class:"border-bottom"},v={class:"p-3"},b={class:"d-md-flex d-block align-items-center"},g=["src","alt"],w={class:"mt-2"},x={class:"text-secondary text-start qty-text"},y={class:"text-start"},f={key:0},k={key:1,class:"text-danger"},$=r((()=>(0,t._)("br",null,null,-1))),z={class:"text-secondary fs-7"},D={class:"mt-4"},C={class:"w-50 mt-3 text-end"},T={class:"d-flex justify-content-between"},L=r((()=>(0,t._)("p",null,"商品結帳金額",-1))),M={class:"text-danger"},N={class:"col-12 col-lg-6 mt-0 control"},U={class:"table-cus my-5"},V=r((()=>(0,t._)("h5",{class:"h5 bg-danger bg-gradient rounded-top p-3 text-white",style:{"--bs-bg-opacity":"0.5"}}," 確認顧客資訊 ",-1))),j={class:"px-5 py-4 text-center"},A={class:"col-12"},O={class:"list-unstyled text-start"},S={class:"mb-3 text-danger"},W=r((()=>(0,t._)("h6",{class:"text-main fs-6 mb-0"},"訂單金額",-1))),q={class:"word-break"},B={class:"mb-3"},E=r((()=>(0,t._)("h6",{class:"mb-0"},"訂單編號",-1))),F={class:"word-break"},H={class:"mb-3"},P=r((()=>(0,t._)("h6",{class:"mb-0"},"訂購時間",-1))),Y={class:"word-break"},I={class:"mb-3"},K=r((()=>(0,t._)("h6",{class:"mb-0"},"收件人姓名",-1))),Z=r((()=>(0,t._)("p",{class:"word-break"},null,-1))),G={class:"mb-3"},J=r((()=>(0,t._)("h6",{class:"mb-0"},"Email",-1))),Q={class:"word-break"},R={class:"mb-3"},X=r((()=>(0,t._)("h6",{class:"mb-0"},"電話",-1))),ss={class:"word-break"},as={class:"mb-3"},es=r((()=>(0,t._)("h6",{class:"mb-0"},"收件地址",-1))),ts=r((()=>(0,t._)("p",{class:"word-break"},null,-1))),ls={class:"mb-3"},rs=r((()=>(0,t._)("h6",{class:"mb-0"},"留言",-1))),ds={key:0,class:"word-break"},is={key:1,class:"word-break"},cs={class:"mb-3"},os=r((()=>(0,t._)("h6",{class:"mb-0"},"付款方式",-1))),ns={class:"mb-3"},ps=r((()=>(0,t._)("option",{value:"",selected:"",disabled:""}," 請選擇付款方式 ",-1))),us=r((()=>(0,t._)("option",{value:"ATM"},"ATM 轉帳",-1))),ms=r((()=>(0,t._)("option",{value:"visa"},"信用卡",-1))),hs=r((()=>(0,t._)("option",{value:"visa"},"超商付款",-1))),_s=["disabled"];function vs(s,a,e,r,vs,bs){const gs=(0,t.up)("LoadingOverlay"),ws=(0,t.up)("VField"),xs=(0,t.up)("ErrorMessage"),ys=(0,t.up)("VForm");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(gs,{active:vs.isLoading,"z-indes":1e3},null,8,["active"]),d,(0,t._)("div",i,[(0,t._)("div",c,[(0,t._)("div",o,[(0,t._)("div",n,[p,(0,t._)("div",u,[(0,t._)("table",m,[h,(0,t._)("tbody",_,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(vs.order.products,((s,a)=>((0,t.wg)(),(0,t.iD)("tr",{class:"text-center",key:`${a} + ${vs.order.id}`},[(0,t._)("td",v,[(0,t._)("div",b,[(0,t._)("img",{src:s.product.imageUrl,alt:s.product.title,class:"cart-img me-3 rounded-3"},null,8,g),(0,t._)("div",null,[(0,t._)("h6",w,(0,l.zw)(s.product.title),1),(0,t._)("p",x," 數量："+(0,l.zw)(s.qty),1)])])]),(0,t._)("td",y,[s.product.price===s.product.origin_price?((0,t.wg)(),(0,t.iD)("p",f," NT$ "+(0,l.zw)(s.product.price),1)):((0,t.wg)(),(0,t.iD)("p",k,[(0,t.Uk)(" NT$ "+(0,l.zw)(s.product.price)+" ",1),$,(0,t._)("del",z,"NT$ "+(0,l.zw)(s.product.origin_price),1)]))])])))),128))])]),(0,t._)("div",D,[(0,t._)("div",C,[(0,t._)("div",T,[L,(0,t._)("p",M,"NT$ "+(0,l.zw)(Math.ceil(vs.order.total)),1)])])])])])]),(0,t._)("div",N,[(0,t._)("div",U,[V,(0,t._)("div",j,[(0,t._)("div",A,[(0,t.Wm)(ys,{ref:"form",onSubmit:bs.checkPay},{default:(0,t.w5)((({errors:e})=>[(0,t._)("ul",O,[(0,t._)("li",S,[W,(0,t._)("p",q,"NT$ "+(0,l.zw)(Math.ceil(vs.order.total)),1)]),(0,t._)("li",B,[E,(0,t._)("p",F,(0,l.zw)(vs.order.id),1)]),(0,t._)("li",H,[P,(0,t._)("p",Y,(0,l.zw)(s.$filters.date(vs.order.create_at)),1)]),(0,t._)("li",I,[K,Z,(0,t.Uk)(" "+(0,l.zw)(vs.order.user.name),1)]),(0,t._)("li",G,[J,(0,t._)("p",Q,(0,l.zw)(vs.order.user.email),1)]),(0,t._)("li",R,[X,(0,t._)("p",ss,(0,l.zw)(vs.order.user.tel),1)]),(0,t._)("li",as,[es,ts,(0,t.Uk)(" "+(0,l.zw)(vs.order.user.address),1)]),(0,t._)("li",ls,[rs,vs.order.message?((0,t.wg)(),(0,t.iD)("p",is,(0,l.zw)(vs.order.message),1)):((0,t.wg)(),(0,t.iD)("p",ds,"無"))]),(0,t._)("li",cs,[os,(0,t._)("div",ns,[(0,t.Wm)(ws,{id:"pay",name:"付款方式",as:"select",class:(0,l.C_)(["form-select",{"is-invalid":e["付款方式"]}]),placeholder:"請選擇付款方式",rules:"required",modelValue:vs.pay,"onUpdate:modelValue":a[0]||(a[0]=s=>vs.pay=s)},{default:(0,t.w5)((()=>[ps,us,ms,hs])),_:2},1032,["class","modelValue"]),(0,t.Wm)(xs,{name:"付款方式",class:"invalid-feedback"})])]),(0,t._)("button",{type:"submit",class:"btn btn-danger",disabled:Object.keys(e).length>0}," 確認付款 ",8,_s)])])),_:1},8,["onSubmit"])])])])])])])],64)}var bs={data(){return{id:"",order:{user:{}},pay:"",isLoading:!1}},methods:{getOrder(){this.isLoading=!0,this.id=this.$route.params.id;const s=`https://vue3-course-api.hexschool.io/v2/api/hsiaoi/order/${this.id}`;this.$http.get(s).then((s=>{this.order=s.data.order,this.isLoading=!1})).catch((s=>{this.$swal.fire({icon:"warning",text:s.response.message,showConfirmButton:!1,timer:1800}),this.isLoading=!1}))},checkPay(){const s=`https://vue3-course-api.hexschool.io/v2/api/hsiaoi/pay/${this.id}`;this.$http.post(s).then((s=>{alert("付款完成！謝謝您的購買 ✿"),this.$swal.fire({icon:"success",text:"付款完成！謝謝您的購買 ✿",showConfirmButton:!1,timer:1800}),this.$router.push("/complete")})).catch((s=>{this.$swal.fire({icon:"warning",text:s.response.data.message,showConfirmButton:!1,timer:1800})}))}},mounted(){this.getOrder()}},gs=e(3744);const ws=(0,gs.Z)(bs,[["render",vs],["__scopeId","data-v-0289639a"]]);var xs=ws}}]);
//# sourceMappingURL=168.6ec20f1b.js.map