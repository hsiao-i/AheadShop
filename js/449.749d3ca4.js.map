{"version":3,"file":"js/449.749d3ca4.js","mappings":"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","sources":["webpack://AheadShop/./src/components/PaginationCom.vue","webpack://AheadShop/./src/components/PaginationCom.vue?35b6","webpack://AheadShop/./src/views/ProductsPage.vue","webpack://AheadShop/./src/views/ProductsPage.vue?c95a"],"sourcesContent":["<template>\n  <nav aria-label=\"Page navigation example mb-5\">\n    <ul class=\"pagination\">\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre }\">\n        <a\n          class=\"page-link text-primary\"\n          href=\"#\"\n          aria-label=\"Previous\"\n          @click.prevent=\"changePage(pages.current_page - 1)\"\n        >\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li\n        class=\"page-item\"\n        v-for=\"page in pages.total_pages\"\n        :key=\"page + '1'\"\n        :class=\"{ active: pages.current_page === page }\"\n      >\n        <a\n          class=\"page-link text-danger\"\n          href=\"#\"\n          @click.prevent=\"changePage(page)\"\n          >{{ page }}</a\n        >\n      </li>\n\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\n        <a\n          class=\"page-link text-primary\"\n          href=\"#\"\n          aria-label=\"Next\"\n          @click.prevent=\"changePage(pages.current_page + 1)\"\n        >\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: ['pages'],\n  methods: {\n    changePage(page) {\n      this.$emit('change-page', page)\n    }\n  }\n}\n</script>\n","import { render } from \"./PaginationCom.vue?vue&type=template&id=31c1f0da\"\nimport script from \"./PaginationCom.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationCom.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/luoxiaoyin/Desktop/other/front end/Vue3 課程/homework/第八週作業/AheadShop/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <LoadingOverlay :active=\"isLoading\" :z-indes=\"1000\"></LoadingOverlay>\n  <div class=\"container mt-5\">\n    <div class=\"row row-sm justify-content-center\">\n      <div class=\"col-sm-3\">\n        <h5 class=\"h5\">產品類別 Category ❉</h5>\n        <ul\n          class=\"mt-3 category list-unstyled d-flex d-sm-block justify-content-around\"\n        >\n          <li class=\"mb-3\">\n            <a\n              class=\"text-decoration-none pointer d-block\"\n              @click=\"getCategory('')\"\n              ><span>全部商品</span></a\n            >\n          </li>\n          <li class=\"mb-3\">\n            <a\n              class=\"text-decoration-none pointer d-block\"\n              @click=\"getCategory('項鍊')\"\n              >項鍊</a\n            >\n          </li>\n          <li class=\"mb-3\">\n            <a\n              to\n              class=\"text-decoration-none pointer d-block\"\n              @click=\"getCategory('戒指')\"\n              >戒指</a\n            >\n          </li>\n          <li class=\"mb-3\">\n            <a\n              to\n              class=\"text-decoration-none pointer d-block\"\n              @click=\"getCategory('耳環')\"\n              >耳環</a\n            >\n          </li>\n          <li class=\"mb-3\">\n            <a\n              to\n              class=\"text-decoration-none pointer d-block\"\n              @click=\"getCategory('手鍊')\"\n              >手鍊</a\n            >\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"col-sm-9\">\n        <div class=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 h-100\">\n          <div class=\"col\" v-for=\"products in products\" :key=\"products.id\">\n            <div class=\"card-cus h-100 position-relative\">\n              <div class=\"hidden-img\">\n                <div\n                  class=\"card-img\"\n                  :style=\"{ backgroundImage: `url(${products.imageUrl})` }\"\n                >\n                  <router-link\n                    :to=\"`/product/${products.id}`\"\n                    class=\"router-link\"\n                  ></router-link>\n                </div>\n              </div>\n              <div class=\"card-content\">\n                <div\n                  class=\"d-flex pt-3 px-4 justify-content-between align-items-start\"\n                >\n                  <div>\n                    <h6 class=\"fs-5-5\">{{ products.title }}</h6>\n                    <p v-if=\"products.price === products.origin_price\">\n                      NT$ {{ products.price }}\n                    </p>\n                    <p v-else class=\"text-danger\">\n                      NT$ {{ products.price }} <br />\n                      <del class=\"text-secondary fs-7\"\n                        >NT$ {{ products.origin_price }}</del\n                      >\n                    </p>\n                  </div>\n                  <div class=\"text-end\">\n                    <i\n                      v-if=\"favorite.includes(products.id)\"\n                      class=\"bi bi-heart-fill fs-5 text-danger pointer\"\n                      @click=\"toggleFavorite(products.id)\"\n                    ></i>\n                    <i\n                      v-else\n                      class=\"bi bi-heart fs-5 pointer\"\n                      @click=\"toggleFavorite(products.id)\"\n                    ></i>\n                  </div>\n                </div>\n\n                <button\n                  type=\"button\"\n                  class=\"btn btn-danger w-100 card-btn fs-5-5\"\n                  @click=\"addToCart(products.id)\"\n                >\n                  <i class=\"bi bi-cart3 fs-5 me-1\"></i> 加入購物車\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <span v-if=\"favorite.includes(products.id)\"></span>\n      </div>\n    </div>\n    <div class=\"w-25 mx-auto\">\n      <PaginationCom\n        :pages=\"pagination\"\n        @change-page=\"getProducts\"\n        class=\"mt-5\"\n      ></PaginationCom>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PaginationCom from '@/components/PaginationCom.vue'\nimport emitter from '@/libs/emitter.js'\n\nexport default {\n  components: {\n    PaginationCom\n  },\n  data() {\n    return {\n      isLoading: false,\n      products: [],\n      pagination: {},\n      product: {},\n      cartData: [],\n      currentPage: 1,\n      nowCategory: '',\n      favorite: JSON.parse(localStorage.getItem('favorite')) || []\n    }\n  },\n\n  methods: {\n    getProducts(page = 1) {\n      this.isLoading = true\n      this.currentPage = page\n      const url = `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/products?page=${page}`\n\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.products = res.data.products\n          this.pagination = res.data.pagination\n          this.isLoading = false\n        })\n        .catch((err) => {\n          this.$swal.fire({\n            icon: 'warning',\n            text: err.response.message,\n            showConfirmButton: false,\n            timer: 1800\n          })\n          this.isLoading = false\n        })\n    },\n    getCategory(category, page = 1) {\n      const url = `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/products?category=${category}&page=${page}`\n\n      this.$http.get(url).then((res) => {\n        this.products = res.data.products\n        this.pagination = res.data.pagination\n        this.isLoading = false\n      })\n    },\n    // 加到購物車\n    addToCart(id, qty = 1) {\n      const url = `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/cart`\n      const data = {\n        product_id: id,\n        qty\n      }\n\n      this.$http\n        .post(url, { data: data })\n        .then((res) => {\n          this.product = res.data\n          emitter.emit('get-cart')\n          this.$swal.fire({\n            icon: 'success',\n            text: '成功加入購物車 ✿',\n            showConfirmButton: false,\n            timer: 1800\n          })\n        })\n        .catch((err) => {\n          this.$swal.fire({\n            icon: 'warning',\n            text: err.response.data.message,\n            showConfirmButton: false,\n            timer: 1800\n          })\n        })\n    },\n    // 收藏（愛心）\n    toggleFavorite(id) {\n      const favoriteIndex = this.favorite.findIndex((item) => item === id)\n\n      if (favoriteIndex === -1) {\n        this.favorite.push(id)\n        this.$swal.fire({\n          icon: 'success',\n          text: '將此商品加入收藏 ♥',\n          showConfirmButton: false,\n          timer: 1800\n        })\n      } else {\n        this.favorite.splice(favoriteIndex, 1)\n      }\n    }\n  },\n  // 寫入 localstorage\n  watch: {\n    favorite: {\n      handler() {\n        localStorage.setItem('favorite', JSON.stringify(this.favorite))\n        emitter.emit('add-favorite')\n      },\n      deep: true\n    }\n  },\n  mounted() {\n    this.getProducts()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.category li a {\n  color: #707070;\n}\n\n.category li a:hover {\n  color: #9f9d9d;\n}\n\n.hidden-img {\n  overflow: hidden;\n  height: 260px;\n  border-radius: 10px 10px 0 0;\n}\n\n.card-cus {\n  border-radius: 10px;\n  box-shadow: 2px 2px 10px 1px #eae7e7;\n  display: grid;\n  grid-template-rows: 1fr max-content;\n}\n\n.card-img {\n  height: 260px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  border-radius: 10px 10px 0 0;\n}\n\n.card-img:hover {\n  filter: brightness(1.1);\n  -webkit-filter: brightness(1.1);\n  transform: scale(1.1, 1.1);\n  transition: all 0.5s;\n\n  cursor: pointer;\n}\n\n.card-btn {\n  border-radius: 0 0 10px 10px;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n.router-link {\n  display: block;\n  height: 260px;\n}\n</style>\n","import { render } from \"./ProductsPage.vue?vue&type=template&id=96d9955e\"\nimport script from \"./ProductsPage.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsPage.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsPage.vue?vue&type=style&index=0&id=96d9955e&lang=scss\"\n\nimport exportComponent from \"/Users/luoxiaoyin/Desktop/other/front end/Vue3 課程/homework/第八週作業/AheadShop/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_3","_hoisted_6","_createElementBlock","disabled","$props","has_pre","href","onClick","$options","current_page","_Fragment","_renderList","total_pages","page","active","key","_hoisted_5","has_next","props","methods","changePage","this","$emit","__exports__","render","_hoisted_7","_hoisted_28","_createVNode","_component_LoadingOverlay","$data","_hoisted_4","to","products","id","style","backgroundImage","imageUrl","_component_router_link","_toDisplayString","title","price","origin_price","_hoisted_20","_hoisted_22","includes","type","_hoisted_31","_component_PaginationCom","pages","onChangePage","components","PaginationCom","data","isLoading","pagination","product","cartData","currentPage","nowCategory","favorite","JSON","parse","localStorage","getItem","getProducts","url","$http","get","then","res","catch","err","$swal","fire","icon","text","response","message","showConfirmButton","timer","getCategory","category","addToCart","qty","product_id","post","emitter","toggleFavorite","favoriteIndex","findIndex","item","push","splice","watch","handler","setItem","stringify","deep","mounted"],"sourceRoot":""}